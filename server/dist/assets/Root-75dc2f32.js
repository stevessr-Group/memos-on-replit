import{r as k,g as Nt,j as o,I as A,a as yt,u as ye,b as le,c as Rt,d as st,D as St,U as It,e as jt,s as Te,f as bt,h as Lt,N as H,O as At}from"./index-b7fe78e2.js";import{s as Ot}from"./MemoEditorDialog-85474b63.js";const Tt={sm:640,md:768,lg:1024},Ct=()=>{const[t,e]=k.useState(0);return k.useEffect(()=>{Nt().then(r=>{e(r)})},[]),o.jsxs("a",{className:"h-7 flex flex-row justify-start items-center border dark:border-zinc-600 rounded cursor-pointer hover:opacity-80",href:"https://github.com/usememos/memos",target:"_blank",children:[o.jsxs("div",{className:"apply w-auto h-full px-2 flex flex-row justify-center items-center text-xs bg-gray-100 dark:bg-zinc-700",children:[o.jsx(A.Github,{className:"mr-1 w-4 h-4"}),"Star"]}),o.jsx("div",{className:"w-auto h-full flex flex-row justify-center items-center px-3 text-xs font-bold",children:t||""})]})},Pt=({destroy:t})=>{const{t:e}=ye(),r=le(),s=r.state.systemStatus.profile,n=r.state.systemStatus.customizedProfile,i=()=>{t()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"dialog-header-container",children:[o.jsxs("p",{className:"title-text flex items-center",children:[e("common.about")," ",n.name]}),o.jsx("button",{className:"btn close-btn",onClick:i,children:o.jsx(A.X,{})})]}),o.jsxs("div",{className:"flex flex-col justify-start items-start max-w-full w-96",children:[o.jsx("p",{className:"text-xs",children:e("about.memos-description")}),o.jsx("p",{className:"text-sm mt-2 ",children:n.description||e("about.no-server-description")}),o.jsxs("div",{className:"mt-4 w-full flex flex-row text-sm justify-start items-center",children:[o.jsxs("div",{className:"flex flex-row justify-start items-center mr-2",children:[e("about.powered-by"),o.jsxs("a",{href:"https://usememos.com",target:"_blank",className:"flex flex-row justify-start items-center mx-1 hover:underline",children:[o.jsx("img",{className:"w-6 h-auto rounded-full mr-1",src:"/logo.webp",alt:""}),"memos"]}),o.jsxs("span",{children:["v",s.version]})]}),o.jsx(Ct,{})]}),o.jsxs("div",{className:"border-t w-full mt-3 pt-2 text-sm flex flex-row justify-start items-center space-x-2",children:[o.jsxs("span",{className:"text-gray-500",children:[e("about.other-projects"),":"]}),o.jsxs("a",{href:"https://github.com/boojack/sticky-notes",target:"_blank",className:"flex items-center underline text-blue-600 hover:opacity-80",children:[o.jsx("img",{className:"w-4 h-auto mr-1",src:"https://raw.githubusercontent.com/boojack/sticky-notes/main/public/sticky-notes.ico",alt:""}),o.jsx("span",{children:"Sticky notes"})]}),o.jsxs("a",{href:"https://star-history.com",target:"_blank",className:"flex items-center underline text-blue-600 hover:opacity-80",children:[o.jsx("img",{className:"w-4 h-auto mr-1",src:"https://star-history.com/icon.png",alt:""}),o.jsx("span",{children:"Star history"})]})]})]})]})};function nt(){yt({className:"about-site-dialog",dialogName:"about-site-dialog"},Pt)}const Dt=()=>{const{t}=ye(),e=Rt(),r=le(),s=st(),{systemStatus:n}=r.state,{user:i}=s.state,[c,m]=k.useState("Memos");k.useEffect(()=>{i&&m(i.nickname||i.username)},[i]);const a=()=>{e("/setting")},l=()=>{nt()},u=async()=>{await s.doSignOut(),window.location.href="/auth"};return o.jsx("div",{className:"flex flex-row justify-between items-center relative w-full h-auto px-2 flex-nowrap shrink-0",children:o.jsx(St,{className:"w-full",trigger:o.jsxs("div",{className:"px-4 py-2 max-w-full flex flex-row justify-start items-center cursor-pointer rounded-full hover:shadow hover:bg-white dark:hover:bg-zinc-700",children:[o.jsx(It,{avatarUrl:i==null?void 0:i.avatarUrl}),o.jsx("span",{className:"px-1 text-lg font-medium text-slate-800 dark:text-gray-200 shrink truncate",children:s.isVisitorMode()?n.customizedProfile.name:c}),(i==null?void 0:i.role)==="HOST"?o.jsx("span",{className:"text-xs px-1 bg-blue-600 dark:bg-blue-800 rounded text-white dark:text-gray-200 shadow",children:"MOD"}):null]}),actionsClassName:"min-w-[128px] max-w-full",positionClassName:"top-full mt-2",actions:o.jsxs(o.Fragment,{children:[!s.isVisitorMode()&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:a,children:[o.jsx(A.User,{className:"w-5 h-auto mr-2 opacity-80"})," ",t("setting.my-account")]}),o.jsxs("a",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",href:`/u/${i==null?void 0:i.id}/rss.xml`,target:"_blank",children:[o.jsx(A.Rss,{className:"w-5 h-auto mr-2 opacity-80"})," RSS"]})]}),o.jsxs("button",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:l,children:[o.jsx(A.Info,{className:"w-5 h-auto mr-2 opacity-80"})," ",t("common.about")]}),!s.isVisitorMode()&&o.jsxs("button",{className:"w-full px-3 truncate text-left leading-10 cursor-pointer rounded flex flex-row justify-start items-center dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-zinc-800",onClick:u,children:[o.jsx(A.LogOut,{className:"w-5 h-auto mr-2 opacity-80"})," ",t("common.sign-out")]})]})})})};var Ne={exports:{}};const _t="2.0.0",it=256,Gt=Number.MAX_SAFE_INTEGER||9007199254740991,Ft=16,Vt=it-6,kt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ce={MAX_LENGTH:it,MAX_SAFE_COMPONENT_LENGTH:Ft,MAX_SAFE_BUILD_LENGTH:Vt,MAX_SAFE_INTEGER:Gt,RELEASE_TYPES:kt,SEMVER_SPEC_VERSION:_t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Ut=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var he=Ut;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:n}=ce,i=he;e=t.exports={};const c=e.re=[],m=e.safeRe=[],a=e.src=[],l=e.t={};let u=0;const d="[a-zA-Z0-9-]",S=[["\\s",1],["\\d",n],[d,s]],E=U=>{for(const[C,X]of S)U=U.split(`${C}*`).join(`${C}{0,${X}}`).split(`${C}+`).join(`${C}{1,${X}}`);return U},x=(U,C,X)=>{const L=E(C),z=u++;i(U,z,C),l[U]=z,a[z]=C,c[z]=new RegExp(C,X?"g":void 0),m[z]=new RegExp(L,X?"g":void 0)};x("NUMERICIDENTIFIER","0|[1-9]\\d*"),x("NUMERICIDENTIFIERLOOSE","\\d+"),x("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),x("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),x("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),x("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),x("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),x("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),x("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),x("BUILDIDENTIFIER",`${d}+`),x("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),x("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),x("FULL",`^${a[l.FULLPLAIN]}$`),x("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),x("LOOSE",`^${a[l.LOOSEPLAIN]}$`),x("GTLT","((?:<|>)?=?)"),x("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),x("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),x("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),x("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),x("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),x("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),x("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),x("COERCERTL",a[l.COERCE],!0),x("LONETILDE","(?:~>?)"),x("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",x("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),x("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),x("LONECARET","(?:\\^)"),x("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",x("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),x("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),x("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),x("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),x("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",x("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),x("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),x("STAR","(<|>)?=?\\s*\\*"),x("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),x("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ne,Ne.exports);var re=Ne.exports;const Xt=Object.freeze({loose:!0}),zt=Object.freeze({}),Ht=t=>t?typeof t!="object"?Xt:t:zt;var Re=Ht;const Ce=/^[0-9]+$/,at=(t,e)=>{const r=Ce.test(t),s=Ce.test(e);return r&&s&&(t=+t,e=+e),t===e?0:r&&!s?-1:s&&!r?1:t<e?-1:1},Mt=(t,e)=>at(e,t);var ot={compareIdentifiers:at,rcompareIdentifiers:Mt};const se=he,{MAX_LENGTH:Pe,MAX_SAFE_INTEGER:ne}=ce,{safeRe:De,t:_e}=re,qt=Re,{compareIdentifiers:Y}=ot;let Bt=class G{constructor(e,r){if(r=qt(r),e instanceof G){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Pe)throw new TypeError(`version is longer than ${Pe} characters`);se("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const s=e.trim().match(r.loose?De[_e.LOOSE]:De[_e.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>ne||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ne||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ne||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){const i=+n;if(i>=0&&i<ne)return i}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(se("SemVer.compare",this.version,this.options,e),!(e instanceof G)){if(typeof e=="string"&&e===this.version)return 0;e=new G(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof G||(e=new G(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)}comparePre(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const s=this.prerelease[r],n=e.prerelease[r];if(se("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return Y(s,n)}while(++r)}compareBuild(e){e instanceof G||(e=new G(e,this.options));let r=0;do{const s=this.build[r],n=e.build[r];if(se("prerelease compare",r,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return Y(s,n)}while(++r)}inc(e,r,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,s),this.inc("pre",r,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,s),this.inc("pre",r,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const n=Number(s)?1:0;if(!r&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(r){let i=[r,n];s===!1&&(i=[r]),Y(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var O=Bt;const Ge=O,Yt=(t,e,r=!1)=>{if(t instanceof Ge)return t;try{return new Ge(t,e)}catch(s){if(!r)return null;throw s}};var K=Yt;const Wt=K,Zt=(t,e)=>{const r=Wt(t,e);return r?r.version:null};var Kt=Zt;const Jt=K,Qt=(t,e)=>{const r=Jt(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var er=Qt;const Fe=O,tr=(t,e,r,s,n)=>{typeof r=="string"&&(n=s,s=r,r=void 0);try{return new Fe(t instanceof Fe?t.version:t,r).inc(e,s,n).version}catch{return null}};var rr=tr;const Ve=K,sr=(t,e)=>{const r=Ve(t,null,!0),s=Ve(e,null,!0),n=r.compare(s);if(n===0)return null;const i=n>0,c=i?r:s,m=i?s:r,a=!!c.prerelease.length;if(!!m.prerelease.length&&!a)return!m.patch&&!m.minor?"major":c.patch?"patch":c.minor?"minor":"major";const u=a?"pre":"";return r.major!==s.major?u+"major":r.minor!==s.minor?u+"minor":r.patch!==s.patch?u+"patch":"prerelease"};var nr=sr;const ir=O,ar=(t,e)=>new ir(t,e).major;var or=ar;const lr=O,cr=(t,e)=>new lr(t,e).minor;var hr=cr;const ur=O,fr=(t,e)=>new ur(t,e).patch;var mr=fr;const pr=K,dr=(t,e)=>{const r=pr(t,e);return r&&r.prerelease.length?r.prerelease:null};var Er=dr;const ke=O,gr=(t,e,r)=>new ke(t,r).compare(new ke(e,r));var D=gr;const vr=D,xr=(t,e,r)=>vr(e,t,r);var $r=xr;const wr=D,Nr=(t,e)=>wr(t,e,!0);var yr=Nr;const Ue=O,Rr=(t,e,r)=>{const s=new Ue(t,r),n=new Ue(e,r);return s.compare(n)||s.compareBuild(n)};var Se=Rr;const Sr=Se,Ir=(t,e)=>t.sort((r,s)=>Sr(r,s,e));var jr=Ir;const br=Se,Lr=(t,e)=>t.sort((r,s)=>br(s,r,e));var Ar=Lr;const Or=D,Tr=(t,e,r)=>Or(t,e,r)>0;var ue=Tr;const Cr=D,Pr=(t,e,r)=>Cr(t,e,r)<0;var Ie=Pr;const Dr=D,_r=(t,e,r)=>Dr(t,e,r)===0;var lt=_r;const Gr=D,Fr=(t,e,r)=>Gr(t,e,r)!==0;var ct=Fr;const Vr=D,kr=(t,e,r)=>Vr(t,e,r)>=0;var je=kr;const Ur=D,Xr=(t,e,r)=>Ur(t,e,r)<=0;var be=Xr;const zr=lt,Hr=ct,Mr=ue,qr=je,Br=Ie,Yr=be,Wr=(t,e,r,s)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return zr(t,r,s);case"!=":return Hr(t,r,s);case">":return Mr(t,r,s);case">=":return qr(t,r,s);case"<":return Br(t,r,s);case"<=":return Yr(t,r,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var ht=Wr;const Zr=O,Kr=K,{safeRe:ie,t:ae}=re,Jr=(t,e)=>{if(t instanceof Zr)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(ie[ae.COERCE]);else{let s;for(;(s=ie[ae.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||s.index+s[0].length!==r.index+r[0].length)&&(r=s),ie[ae.COERCERTL].lastIndex=s.index+s[1].length+s[2].length;ie[ae.COERCERTL].lastIndex=-1}return r===null?null:Kr(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Qr=Jr,pe,Xe;function es(){return Xe||(Xe=1,pe=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),pe}var ts=y;y.Node=B;y.create=y;function y(t){var e=this;if(e instanceof y||(e=new y),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)e.push(arguments[r]);return e}y.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};y.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};y.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};y.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ss(this,arguments[t]);return this.length};y.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ns(this,arguments[t]);return this.length};y.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};y.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};y.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,s=0;r!==null;s++)t.call(e,r.value,s,this),r=r.next};y.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,s=this.length-1;r!==null;s--)t.call(e,r.value,s,this),r=r.prev};y.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};y.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};y.prototype.map=function(t,e){e=e||this;for(var r=new y,s=this.head;s!==null;)r.push(t.call(e,s.value,this)),s=s.next;return r};y.prototype.mapReverse=function(t,e){e=e||this;for(var r=new y,s=this.tail;s!==null;)r.push(t.call(e,s.value,this)),s=s.prev;return r};y.prototype.reduce=function(t,e){var r,s=this.head;if(arguments.length>1)r=e;else if(this.head)s=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;s!==null;n++)r=t(r,s.value,n),s=s.next;return r};y.prototype.reduceReverse=function(t,e){var r,s=this.tail;if(arguments.length>1)r=e;else if(this.tail)s=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;s!==null;n--)r=t(r,s.value,n),s=s.prev;return r};y.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};y.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};y.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new y;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=0,n=this.head;n!==null&&s<t;s++)n=n.next;for(;n!==null&&s<e;s++,n=n.next)r.push(n.value);return r};y.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new y;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var s=this.length,n=this.tail;n!==null&&s>e;s--)n=n.prev;for(;n!==null&&s>t;s--,n=n.prev)r.push(n.value);return r};y.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var s=0,n=this.head;n!==null&&s<t;s++)n=n.next;for(var i=[],s=0;n&&s<e;s++)i.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var s=0;s<r.length;s++)n=rs(this,n,r[s]);return i};y.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=e,this.tail=t,this};function rs(t,e,r){var s=e===t.head?new B(r,null,e,t):new B(r,e,e.next,t);return s.next===null&&(t.tail=s),s.prev===null&&(t.head=s),t.length++,s}function ss(t,e){t.tail=new B(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ns(t,e){t.head=new B(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function B(t,e,r,s){if(!(this instanceof B))return new B(t,e,r,s);this.list=s,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{es()(y)}catch{}const is=ts,M=Symbol("max"),V=Symbol("length"),W=Symbol("lengthCalculator"),te=Symbol("allowStale"),q=Symbol("maxAge"),F=Symbol("dispose"),ze=Symbol("noDisposeOnSet"),b=Symbol("lruList"),P=Symbol("cache"),ut=Symbol("updateAgeOnGet"),de=()=>1;class as{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[M]=e.max||1/0;const r=e.length||de;if(this[W]=typeof r!="function"?de:r,this[te]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[q]=e.maxAge||0,this[F]=e.dispose,this[ze]=e.noDisposeOnSet||!1,this[ut]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[M]=e||1/0,Q(this)}get max(){return this[M]}set allowStale(e){this[te]=!!e}get allowStale(){return this[te]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[q]=e,Q(this)}get maxAge(){return this[q]}set lengthCalculator(e){typeof e!="function"&&(e=de),e!==this[W]&&(this[W]=e,this[V]=0,this[b].forEach(r=>{r.length=this[W](r.value,r.key),this[V]+=r.length})),Q(this)}get lengthCalculator(){return this[W]}get length(){return this[V]}get itemCount(){return this[b].length}rforEach(e,r){r=r||this;for(let s=this[b].tail;s!==null;){const n=s.prev;He(this,e,s,r),s=n}}forEach(e,r){r=r||this;for(let s=this[b].head;s!==null;){const n=s.next;He(this,e,s,r),s=n}}keys(){return this[b].toArray().map(e=>e.key)}values(){return this[b].toArray().map(e=>e.value)}reset(){this[F]&&this[b]&&this[b].length&&this[b].forEach(e=>this[F](e.key,e.value)),this[P]=new Map,this[b]=new is,this[V]=0}dump(){return this[b].map(e=>oe(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[b]}set(e,r,s){if(s=s||this[q],s&&typeof s!="number")throw new TypeError("maxAge must be a number");const n=s?Date.now():0,i=this[W](r,e);if(this[P].has(e)){if(i>this[M])return Z(this,this[P].get(e)),!1;const a=this[P].get(e).value;return this[F]&&(this[ze]||this[F](e,a.value)),a.now=n,a.maxAge=s,a.value=r,this[V]+=i-a.length,a.length=i,this.get(e),Q(this),!0}const c=new os(e,r,i,n,s);return c.length>this[M]?(this[F]&&this[F](e,r),!1):(this[V]+=c.length,this[b].unshift(c),this[P].set(e,this[b].head),Q(this),!0)}has(e){if(!this[P].has(e))return!1;const r=this[P].get(e).value;return!oe(this,r)}get(e){return Ee(this,e,!0)}peek(e){return Ee(this,e,!1)}pop(){const e=this[b].tail;return e?(Z(this,e),e.value):null}del(e){Z(this,this[P].get(e))}load(e){this.reset();const r=Date.now();for(let s=e.length-1;s>=0;s--){const n=e[s],i=n.e||0;if(i===0)this.set(n.k,n.v);else{const c=i-r;c>0&&this.set(n.k,n.v,c)}}}prune(){this[P].forEach((e,r)=>Ee(this,r,!1))}}const Ee=(t,e,r)=>{const s=t[P].get(e);if(s){const n=s.value;if(oe(t,n)){if(Z(t,s),!t[te])return}else r&&(t[ut]&&(s.value.now=Date.now()),t[b].unshiftNode(s));return n.value}},oe=(t,e)=>{if(!e||!e.maxAge&&!t[q])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[q]&&r>t[q]},Q=t=>{if(t[V]>t[M])for(let e=t[b].tail;t[V]>t[M]&&e!==null;){const r=e.prev;Z(t,e),e=r}},Z=(t,e)=>{if(e){const r=e.value;t[F]&&t[F](r.key,r.value),t[V]-=r.length,t[P].delete(r.key),t[b].removeNode(e)}};class os{constructor(e,r,s,n,i){this.key=e,this.value=r,this.length=s,this.now=n,this.maxAge=i||0}}const He=(t,e,r,s)=>{let n=r.value;oe(t,n)&&(Z(t,r),t[te]||(n=void 0)),n&&e.call(s,n.value,n.key,t)};var ls=as,ge,Me;function _(){if(Me)return ge;Me=1;class t{constructor(h,$){if($=s($),h instanceof t)return h.loose===!!$.loose&&h.includePrerelease===!!$.includePrerelease?h:new t(h.raw,$);if(h instanceof n)return this.raw=h.value,this.set=[[h]],this.format(),this;if(this.options=$,this.loose=!!$.loose,this.includePrerelease=!!$.includePrerelease,this.raw=h.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(g=>this.parseRange(g.trim())).filter(g=>g.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const g=this.set[0];if(this.set=this.set.filter(v=>!x(v[0])),this.set.length===0)this.set=[g];else if(this.set.length>1){for(const v of this.set)if(v.length===1&&U(v[0])){this.set=[v];break}}}this.format()}format(){return this.range=this.set.map(h=>h.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(h){const g=((this.options.includePrerelease&&S)|(this.options.loose&&E))+":"+h,v=r.get(g);if(v)return v;const p=this.options.loose,w=p?m[a.HYPHENRANGELOOSE]:m[a.HYPHENRANGE];h=h.replace(w,$t(this.options.includePrerelease)),i("hyphen replace",h),h=h.replace(m[a.COMPARATORTRIM],l),i("comparator trim",h),h=h.replace(m[a.TILDETRIM],u),i("tilde trim",h),h=h.replace(m[a.CARETTRIM],d),i("caret trim",h);let R=h.split(" ").map(j=>X(j,this.options)).join(" ").split(/\s+/).map(j=>xt(j,this.options));p&&(R=R.filter(j=>(i("loose invalid filter",j,this.options),!!j.match(m[a.COMPARATORLOOSE])))),i("range list",R);const N=new Map,I=R.map(j=>new n(j,this.options));for(const j of I){if(x(j))return[j];N.set(j.value,j)}N.size>1&&N.has("")&&N.delete("");const T=[...N.values()];return r.set(g,T),T}intersects(h,$){if(!(h instanceof t))throw new TypeError("a Range is required");return this.set.some(g=>C(g,$)&&h.set.some(v=>C(v,$)&&g.every(p=>v.every(w=>p.intersects(w,$)))))}test(h){if(!h)return!1;if(typeof h=="string")try{h=new c(h,this.options)}catch{return!1}for(let $=0;$<this.set.length;$++)if(wt(this.set[$],h,this.options))return!0;return!1}}ge=t;const e=ls,r=new e({max:1e3}),s=Re,n=fe(),i=he,c=O,{safeRe:m,t:a,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:d}=re,{FLAG_INCLUDE_PRERELEASE:S,FLAG_LOOSE:E}=ce,x=f=>f.value==="<0.0.0-0",U=f=>f.value==="",C=(f,h)=>{let $=!0;const g=f.slice();let v=g.pop();for(;$&&g.length;)$=g.every(p=>v.intersects(p,h)),v=g.pop();return $},X=(f,h)=>(i("comp",f,h),f=pt(f,h),i("caret",f),f=z(f,h),i("tildes",f),f=Et(f,h),i("xrange",f),f=vt(f,h),i("stars",f),f),L=f=>!f||f.toLowerCase()==="x"||f==="*",z=(f,h)=>f.trim().split(/\s+/).map($=>mt($,h)).join(" "),mt=(f,h)=>{const $=h.loose?m[a.TILDELOOSE]:m[a.TILDE];return f.replace($,(g,v,p,w,R)=>{i("tilde",f,g,v,p,w,R);let N;return L(v)?N="":L(p)?N=`>=${v}.0.0 <${+v+1}.0.0-0`:L(w)?N=`>=${v}.${p}.0 <${v}.${+p+1}.0-0`:R?(i("replaceTilde pr",R),N=`>=${v}.${p}.${w}-${R} <${v}.${+p+1}.0-0`):N=`>=${v}.${p}.${w} <${v}.${+p+1}.0-0`,i("tilde return",N),N})},pt=(f,h)=>f.trim().split(/\s+/).map($=>dt($,h)).join(" "),dt=(f,h)=>{i("caret",f,h);const $=h.loose?m[a.CARETLOOSE]:m[a.CARET],g=h.includePrerelease?"-0":"";return f.replace($,(v,p,w,R,N)=>{i("caret",f,v,p,w,R,N);let I;return L(p)?I="":L(w)?I=`>=${p}.0.0${g} <${+p+1}.0.0-0`:L(R)?p==="0"?I=`>=${p}.${w}.0${g} <${p}.${+w+1}.0-0`:I=`>=${p}.${w}.0${g} <${+p+1}.0.0-0`:N?(i("replaceCaret pr",N),p==="0"?w==="0"?I=`>=${p}.${w}.${R}-${N} <${p}.${w}.${+R+1}-0`:I=`>=${p}.${w}.${R}-${N} <${p}.${+w+1}.0-0`:I=`>=${p}.${w}.${R}-${N} <${+p+1}.0.0-0`):(i("no pr"),p==="0"?w==="0"?I=`>=${p}.${w}.${R}${g} <${p}.${w}.${+R+1}-0`:I=`>=${p}.${w}.${R}${g} <${p}.${+w+1}.0-0`:I=`>=${p}.${w}.${R} <${+p+1}.0.0-0`),i("caret return",I),I})},Et=(f,h)=>(i("replaceXRanges",f,h),f.split(/\s+/).map($=>gt($,h)).join(" ")),gt=(f,h)=>{f=f.trim();const $=h.loose?m[a.XRANGELOOSE]:m[a.XRANGE];return f.replace($,(g,v,p,w,R,N)=>{i("xRange",f,g,v,p,w,R,N);const I=L(p),T=I||L(w),j=T||L(R),J=j;return v==="="&&J&&(v=""),N=h.includePrerelease?"-0":"",I?v===">"||v==="<"?g="<0.0.0-0":g="*":v&&J?(T&&(w=0),R=0,v===">"?(v=">=",T?(p=+p+1,w=0,R=0):(w=+w+1,R=0)):v==="<="&&(v="<",T?p=+p+1:w=+w+1),v==="<"&&(N="-0"),g=`${v+p}.${w}.${R}${N}`):T?g=`>=${p}.0.0${N} <${+p+1}.0.0-0`:j&&(g=`>=${p}.${w}.0${N} <${p}.${+w+1}.0-0`),i("xRange return",g),g})},vt=(f,h)=>(i("replaceStars",f,h),f.trim().replace(m[a.STAR],"")),xt=(f,h)=>(i("replaceGTE0",f,h),f.trim().replace(m[h.includePrerelease?a.GTE0PRE:a.GTE0],"")),$t=f=>(h,$,g,v,p,w,R,N,I,T,j,J,Vn)=>(L(g)?$="":L(v)?$=`>=${g}.0.0${f?"-0":""}`:L(p)?$=`>=${g}.${v}.0${f?"-0":""}`:w?$=`>=${$}`:$=`>=${$}${f?"-0":""}`,L(I)?N="":L(T)?N=`<${+I+1}.0.0-0`:L(j)?N=`<${I}.${+T+1}.0-0`:J?N=`<=${I}.${T}.${j}-${J}`:f?N=`<${I}.${T}.${+j+1}-0`:N=`<=${N}`,`${$} ${N}`.trim()),wt=(f,h,$)=>{for(let g=0;g<f.length;g++)if(!f[g].test(h))return!1;if(h.prerelease.length&&!$.includePrerelease){for(let g=0;g<f.length;g++)if(i(f[g].semver),f[g].semver!==n.ANY&&f[g].semver.prerelease.length>0){const v=f[g].semver;if(v.major===h.major&&v.minor===h.minor&&v.patch===h.patch)return!0}return!1}return!0};return ge}var ve,qe;function fe(){if(qe)return ve;qe=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,d){if(d=r(d),u instanceof e){if(u.loose===!!d.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),c("comparator",u,d),this.options=d,this.loose=!!d.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(u){const d=this.options.loose?s[n.COMPARATORLOOSE]:s[n.COMPARATOR],S=u.match(d);if(!S)throw new TypeError(`Invalid comparator: ${u}`);this.operator=S[1]!==void 0?S[1]:"",this.operator==="="&&(this.operator=""),S[2]?this.semver=new m(S[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(c("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new m(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,d){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(u.value,d).test(this.value):u.operator===""?u.value===""?!0:new a(this.value,d).test(u.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,d)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,d)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}ve=e;const r=Re,{safeRe:s,t:n}=re,i=ht,c=he,m=O,a=_();return ve}const cs=_(),hs=(t,e,r)=>{try{e=new cs(e,r)}catch{return!1}return e.test(t)};var me=hs;const us=_(),fs=(t,e)=>new us(t,e).set.map(r=>r.map(s=>s.value).join(" ").trim().split(" "));var ms=fs;const ps=O,ds=_(),Es=(t,e,r)=>{let s=null,n=null,i=null;try{i=new ds(e,r)}catch{return null}return t.forEach(c=>{i.test(c)&&(!s||n.compare(c)===-1)&&(s=c,n=new ps(s,r))}),s};var gs=Es;const vs=O,xs=_(),$s=(t,e,r)=>{let s=null,n=null,i=null;try{i=new xs(e,r)}catch{return null}return t.forEach(c=>{i.test(c)&&(!s||n.compare(c)===1)&&(s=c,n=new vs(s,r))}),s};var ws=$s;const xe=O,Ns=_(),Be=ue,ys=(t,e)=>{t=new Ns(t,e);let r=new xe("0.0.0");if(t.test(r)||(r=new xe("0.0.0-0"),t.test(r)))return r;r=null;for(let s=0;s<t.set.length;++s){const n=t.set[s];let i=null;n.forEach(c=>{const m=new xe(c.semver.version);switch(c.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!i||Be(m,i))&&(i=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),i&&(!r||Be(r,i))&&(r=i)}return r&&t.test(r)?r:null};var Rs=ys;const Ss=_(),Is=(t,e)=>{try{return new Ss(t,e).range||"*"}catch{return null}};var js=Is;const bs=O,ft=fe(),{ANY:Ls}=ft,As=_(),Os=me,Ye=ue,We=Ie,Ts=be,Cs=je,Ps=(t,e,r,s)=>{t=new bs(t,s),e=new As(e,s);let n,i,c,m,a;switch(r){case">":n=Ye,i=Ts,c=We,m=">",a=">=";break;case"<":n=We,i=Cs,c=Ye,m="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Os(t,e,s))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let d=null,S=null;if(u.forEach(E=>{E.semver===Ls&&(E=new ft(">=0.0.0")),d=d||E,S=S||E,n(E.semver,d.semver,s)?d=E:c(E.semver,S.semver,s)&&(S=E)}),d.operator===m||d.operator===a||(!S.operator||S.operator===m)&&i(t,S.semver))return!1;if(S.operator===a&&c(t,S.semver))return!1}return!0};var Le=Ps;const Ds=Le,_s=(t,e,r)=>Ds(t,e,">",r);var Gs=_s;const Fs=Le,Vs=(t,e,r)=>Fs(t,e,"<",r);var ks=Vs;const Ze=_(),Us=(t,e,r)=>(t=new Ze(t,r),e=new Ze(e,r),t.intersects(e,r));var Xs=Us;const zs=me,Hs=D;var Ms=(t,e,r)=>{const s=[];let n=null,i=null;const c=t.sort((u,d)=>Hs(u,d,r));for(const u of c)zs(u,e,r)?(i=u,n||(n=u)):(i&&s.push([n,i]),i=null,n=null);n&&s.push([n,null]);const m=[];for(const[u,d]of s)u===d?m.push(u):!d&&u===c[0]?m.push("*"):d?u===c[0]?m.push(`<=${d}`):m.push(`${u} - ${d}`):m.push(`>=${u}`);const a=m.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return a.length<l.length?a:e};const Ke=_(),Ae=fe(),{ANY:$e}=Ae,ee=me,Oe=D,qs=(t,e,r={})=>{if(t===e)return!0;t=new Ke(t,r),e=new Ke(e,r);let s=!1;e:for(const n of t.set){for(const i of e.set){const c=Ys(n,i,r);if(s=s||c!==null,c)continue e}if(s)return!1}return!0},Bs=[new Ae(">=0.0.0-0")],Je=[new Ae(">=0.0.0")],Ys=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===$e){if(e.length===1&&e[0].semver===$e)return!0;r.includePrerelease?t=Bs:t=Je}if(e.length===1&&e[0].semver===$e){if(r.includePrerelease)return!0;e=Je}const s=new Set;let n,i;for(const E of t)E.operator===">"||E.operator===">="?n=Qe(n,E,r):E.operator==="<"||E.operator==="<="?i=et(i,E,r):s.add(E.semver);if(s.size>1)return null;let c;if(n&&i){if(c=Oe(n.semver,i.semver,r),c>0)return null;if(c===0&&(n.operator!==">="||i.operator!=="<="))return null}for(const E of s){if(n&&!ee(E,String(n),r)||i&&!ee(E,String(i),r))return null;for(const x of e)if(!ee(E,String(x),r))return!1;return!0}let m,a,l,u,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,S=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const E of e){if(u=u||E.operator===">"||E.operator===">=",l=l||E.operator==="<"||E.operator==="<=",n){if(S&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===S.major&&E.semver.minor===S.minor&&E.semver.patch===S.patch&&(S=!1),E.operator===">"||E.operator===">="){if(m=Qe(n,E,r),m===E&&m!==n)return!1}else if(n.operator===">="&&!ee(n.semver,String(E),r))return!1}if(i){if(d&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===d.major&&E.semver.minor===d.minor&&E.semver.patch===d.patch&&(d=!1),E.operator==="<"||E.operator==="<="){if(a=et(i,E,r),a===E&&a!==i)return!1}else if(i.operator==="<="&&!ee(i.semver,String(E),r))return!1}if(!E.operator&&(i||n)&&c!==0)return!1}return!(n&&l&&!i&&c!==0||i&&u&&!n&&c!==0||S||d)},Qe=(t,e,r)=>{if(!t)return e;const s=Oe(t.semver,e.semver,r);return s>0?t:s<0||e.operator===">"&&t.operator===">="?e:t},et=(t,e,r)=>{if(!t)return e;const s=Oe(t.semver,e.semver,r);return s<0?t:s>0||e.operator==="<"&&t.operator==="<="?e:t};var Ws=qs;const we=re,tt=ce,Zs=O,rt=ot,Ks=K,Js=Kt,Qs=er,en=rr,tn=nr,rn=or,sn=hr,nn=mr,an=Er,on=D,ln=$r,cn=yr,hn=Se,un=jr,fn=Ar,mn=ue,pn=Ie,dn=lt,En=ct,gn=je,vn=be,xn=ht,$n=Qr,wn=fe(),Nn=_(),yn=me,Rn=ms,Sn=gs,In=ws,jn=Rs,bn=js,Ln=Le,An=Gs,On=ks,Tn=Xs,Cn=Ms,Pn=Ws;var Dn={parse:Ks,valid:Js,clean:Qs,inc:en,diff:tn,major:rn,minor:sn,patch:nn,prerelease:an,compare:on,rcompare:ln,compareLoose:cn,compareBuild:hn,sort:un,rsort:fn,gt:mn,lt:pn,eq:dn,neq:En,gte:gn,lte:vn,cmp:xn,coerce:$n,Comparator:wn,Range:Nn,satisfies:yn,toComparators:Rn,maxSatisfying:Sn,minSatisfying:In,minVersion:jn,validRange:bn,outside:Ln,gtr:An,ltr:On,intersects:Tn,simplifyRange:Cn,subset:Pn,SemVer:Zs,re:we.re,src:we.src,tokens:we.t,SEMVER_SPEC_VERSION:tt.SEMVER_SPEC_VERSION,RELEASE_TYPES:tt.RELEASE_TYPES,compareIdentifiers:rt.compareIdentifiers,rcompareIdentifiers:rt.rcompareIdentifiers};const _n=()=>{const e=le().state.systemStatus.profile,[r,s]=k.useState({latestVersion:"",show:!1});k.useEffect(()=>{jt().then(i=>{const{skippedVersion:c}=Te.get(["skippedVersion"]),m=i.slice(1)||"0.0.0",a=e.version;s({latestVersion:m,show:!(c?c===m:!1)&&Dn.compare(a,m)===-1})})},[]);const n=()=>{Te.set({skippedVersion:r.latestVersion}),s(i=>({...i,show:!1}))};return r.show?o.jsxs("div",{className:"flex flex-row justify-center items-center w-full py-2 px-2",children:[o.jsxs("a",{className:"flex flex-row justify-start items-center text-sm break-all text-green-600 hover:underline",target:"_blank",href:"https://github.com/usememos/memos/releases",children:["✨ New version: v",r.latestVersion]}),o.jsx("button",{className:"ml-1 opacity-60 text-gray-600 hover:opacity-100",onClick:n,children:o.jsx(A.X,{className:"w-4 h-auto"})})]}):null},Gn=()=>{const{t}=ye(),e=bt(),r=st(),s=Lt(),n=s.state.showHeader,i=r.isVisitorMode()&&!r.state.user;return k.useEffect(()=>{const c=()=>{window.innerWidth<Tt.sm?s.setHeaderStatus(!1):s.setHeaderStatus(!0)};window.addEventListener("resize",c),c()},[e]),o.jsxs("div",{className:`fixed sm:sticky top-0 left-0 w-full sm:w-56 h-full shrink-0 pointer-events-none sm:pointer-events-auto z-10 ${n&&"pointer-events-auto"}`,children:[o.jsx("div",{className:`fixed top-0 left-0 w-full h-full bg-black opacity-0 pointer-events-none transition-opacity duration-300 sm:!hidden ${n&&"opacity-60 pointer-events-auto"}`,onClick:()=>s.setHeaderStatus(!1)}),o.jsxs("header",{className:`relative w-56 sm:w-full h-full max-h-screen overflow-auto hide-scrollbar flex flex-col justify-start items-start py-4 z-30 bg-zinc-100 dark:bg-zinc-800 sm:bg-transparent sm:shadow-none transition-all duration-300 -translate-x-full sm:translate-x-0 ${n&&"translate-x-0 shadow-2xl"}`,children:[o.jsx(Dt,{}),o.jsxs("div",{className:"w-full px-2 py-2 flex flex-col justify-start items-start shrink-0 space-y-2",children:[!i&&o.jsxs(o.Fragment,{children:[o.jsx(H,{to:"/",id:"header-home",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.Home,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.home")]})}),o.jsx(H,{to:"/review",id:"header-review",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.Calendar,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("daily-review.title")]})}),o.jsx(H,{to:"/resources",id:"header-resources",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.Paperclip,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.resources")]})})]}),o.jsx(H,{to:"/explore",id:"header-explore",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.Hash,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.explore")]})}),!i&&o.jsxs(o.Fragment,{children:[o.jsx(H,{to:"/archived",id:"header-archived",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.Archive,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.archived")]})}),o.jsx(H,{to:"/setting",id:"header-setting",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.Settings,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.settings")]})}),o.jsx("div",{id:"header-memo",children:o.jsxs("button",{className:"px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 bg-gray-50/100 dark:bg-zinc-700/20 hover:bg-white hover:shadow dark:hover:bg-zinc-700",onClick:()=>Ot(),children:[o.jsx(A.Feather,{className:"mr-3 w-6 h-auto opacity-70"}),t("common.new")]})}),o.jsx(_n,{})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx(H,{to:"/auth",id:"header-auth",className:({isActive:c})=>`${c&&"bg-white dark:bg-zinc-700 shadow"} px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700`,children:o.jsxs(o.Fragment,{children:[o.jsx(A.LogIn,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.sign-in")]})}),o.jsxs("button",{id:"header-about",className:"px-4 pr-5 py-2 rounded-full flex flex-row items-center text-lg text-gray-800 dark:text-gray-300 hover:bg-white hover:shadow dark:hover:bg-zinc-700",onClick:()=>nt(),children:[o.jsx(A.CupSoda,{className:"mr-3 w-6 h-auto opacity-70"})," ",t("common.about")]})]})]})]})]})},Fn=()=>{const e=le().state.systemStatus.profile,[r,s]=k.useState({show:!1});return k.useEffect(()=>{const n=e.mode==="demo";s({show:n})},[]),r.show?o.jsx("div",{className:"z-10 flex flex-row items-center justify-center w-full py-2 text-sm sm:text-lg font-medium dark:text-gray-300 bg-white dark:bg-zinc-700 shadow",children:o.jsxs("div",{className:"w-full max-w-6xl px-4 flex flex-row justify-between items-center gap-x-3",children:[o.jsx("span",{children:"✨ A lightweight, self-hosted memo hub. Open Source and Free forever. ✨"}),o.jsxs("a",{className:"btn-primary shadow",href:"https://usememos.com/docs/install/docker",target:"_blank",children:["Install",o.jsx(A.ExternalLink,{className:"w-4 h-auto ml-1"})]})]})}):null};function Xn(){return o.jsxs("div",{className:"w-full min-h-full bg-zinc-100 dark:bg-zinc-800",children:[o.jsx("div",{className:"w-full h-auto flex flex-col justify-start items-center",children:o.jsx(Fn,{})}),o.jsxs("div",{className:"w-full max-w-6xl mx-auto flex flex-row justify-center items-start sm:px-4",children:[o.jsx(Gn,{}),o.jsx("main",{className:"w-auto max-w-full flex-grow shrink flex flex-col justify-start items-start",children:o.jsx(At,{})})]})]})}export{Xn as default};
